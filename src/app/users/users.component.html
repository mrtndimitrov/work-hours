<p-panel *ngIf="isUsers" header="Потребители">
  <form [formGroup]="usersForm">
    <p-table [value]="users" [tableStyle]="{'min-width': '50rem'}">
      <ng-template pTemplate="header">
        <tr>
          <th>Имейл</th>
          <th>Роля</th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-user>
        <tr>
          <td>{{user.email}}</td>
          <td>{{user.role}}</td>
          <td><button pButton pRipple type="button" icon="pi pi-times" class="p-button-rounded p-button-danger" (click)="delete(user, 'user')"></button></td>
        </tr>
      </ng-template>
    </p-table>
  </form>
</p-panel>
<ng-container *ngIf="!isUsers">
  <p-panel header="Поканени">
    <form [formGroup]="usersForm">
      <p-table [value]="users" [tableStyle]="{'min-width': '50rem'}">
        <ng-template pTemplate="header">
          <tr>
            <th>Имейл</th>
            <th>Роля</th>
            <th></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-user>
          <tr>
            <td>{{user.email}}</td>
            <td>{{user.role}}</td>
            <td><button pButton pRipple type="button" icon="pi pi-times" class="p-button-rounded p-button-danger" (click)="delete(user, 'invite')"></button></td>
          </tr>
        </ng-template>
      </p-table>
    </form>
  </p-panel>
  <p-panel header="Нова покана">
    <form [formGroup]="newInvitationForm" (ngSubmit)="newInvitation()">
      <label for="email" class="block text-900 font-medium mb-2">Ключ на организацията</label>
      <input id="email" type="email" placeholder="Имейл" pInputText class="w-full mb-3" formControlName="email">
      <label for="role" class="block text-900 font-medium mb-2">Роля в организацията</label>
      <p-dropdown id="role" class="w-full mb-3" placeholder="Изберете роля" [options]="roles" optionLabel="name" formControlName="role"></p-dropdown>
      <br>
      <button pButton type="submit" label="Изпрати"></button>
    </form>
  </p-panel>
</ng-container>
